{
  "hash": "617fca84cddd19b6637b86c4ffe3d931",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: ESS 330 Project Proposal\nauthors:\n  - name: Sean Pearson, Nick Beegle\n    affiliation: The University\n    roles: writing\n    corresponding: true\nbibliography: references.bib\n---\n\n\n\n\n\n## 1.) Our Title\n\n####Evaluating Water Quality and Flashiness Before and After Green Infrastructure Efforts in Portland, Oregon\n\n\n\n\n\n\n\n\n\n\n## 3.) Exploring your data\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#data retreival\n\nlibrary(dataRetrieval)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'dataRetrieval' was built under R version 4.4.3\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# Define parameters\nsiteNumber <- \"14211720\"\nparameterCd <- \"00060\"  # Discharge, cubic feet per second\nstartDate <- \"2003-01-01\"\nendDate <- \"2023-12-31\"\n\n# Download data\nflow_data <- readNWISdv(siteNumbers = siteNumber,\n                        parameterCd = parameterCd,\n                        startDate = startDate,\n                        endDate = endDate)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nGET:https://waterservices.usgs.gov/nwis/dv/?site=14211720&format=waterml%2C1.1&ParameterCd=00060&StatCd=00003&startDT=2003-01-01&endDT=2023-12-31\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# Clean column names\nflow_data <- renameNWISColumns(flow_data)\n\n# Save to CSV\nwrite.csv(flow_data, \"data/streamflow_14211720.csv\", row.names = FALSE)\n```\n:::\n\n\n\n\n\n## Lab 7 Visualizations\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: package 'tidyverse' was built under R version 4.4.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nlibrary(lubridate)\nlibrary(ggplot2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# Load streamflow data\nstreamflow <- read_csv(\"data/streamflow_14211720.csv\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRows: 7670 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (2): agency_cd, Flow_cd\ndbl  (2): site_no, Flow\ndate (1): Date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n# Load precipitation data\nprecip <- read_csv(\"data/precip_2003_2023.csv\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRows: 730 Columns: 2\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl  (1): precip_mm\ndate (1): date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nstreamflow <- streamflow %>%\n  mutate(Date = as.Date(Date))\n\nprecip <- precip %>%\n  mutate(date = as.Date(date))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# Daily Streamflow for 2003\nplot_2003 <- streamflow %>%\n  filter(lubridate::year(Date) == 2003) %>%\n  ggplot(aes(x = Date, y = Flow)) +\n  geom_line(color = \"steelblue\") +\n  labs(title = \"Daily Streamflow in 2003 (USGS 14211720)\",\n       y = \"Discharge (cfs)\", x = \"Date\") +\n  theme_minimal()\n\nplot_2003\n```\n\n::: {.cell-output-display}\n![](index_files/figure-docx/unnamed-chunk-5-1.png)\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# Daily Streamflow for 2023\nplot_2023 <- streamflow %>%\n  filter(lubridate::year(Date) == 2023) %>%\n  ggplot(aes(x = Date, y = Flow)) +\n  geom_line(color = \"darkgreen\") +\n  labs(title = \"Daily Streamflow in 2023 (USGS 14211720)\",\n       y = \"Discharge (cfs)\", x = \"Date\") +\n  theme_minimal()\n\nplot_2023\n```\n\n::: {.cell-output-display}\n![](index_files/figure-docx/unnamed-chunk-6-1.png)\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#precip data\nprecip_plot <- precip %>%\n  ggplot(aes(x = date, y = precip_mm)) +\n  geom_col(fill = \"skyblue4\") +\n  facet_wrap(~year(date), scales = \"free_x\", ncol = 1) +\n  labs(title = \"Daily Precipitation in 2003 and 2023\",\n       y = \"Precipitation (mm)\", x = \"Date\") +\n  theme_minimal()\n\nprecip_plot\n```\n\n::: {.cell-output-display}\n![](index_files/figure-docx/unnamed-chunk-7-1.png)\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}